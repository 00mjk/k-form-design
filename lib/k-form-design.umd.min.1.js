(("undefined"!==typeof self?self:this)["webpackJsonpk_form_design"]=("undefined"!==typeof self?self:this)["webpackJsonpk_form_design"]||[]).push([[1],{"1c1f":function(e,t,i){},5966:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-img-box-9136076486841527",style:{width:e.record.options.width}},[i("a-upload",{attrs:{name:e.record.model,multiple:e.record.options.multiple,listType:e.record.options.listType,disabled:e.record.options.disabled,data:e.optionsData,fileList:e.fileList,action:e.record.options.action,accept:"image/gif, image/jpeg, image/png",remove:e.remove,beforeUpload:e.beforeUpload},on:{change:e.handleChange,preview:e.handlePreview}},["picture-card"!==e.record.options.listType&&e.fileList.length<e.record.options.limit?i("a-button",{attrs:{disabled:e.record.options.disabled}},[i("a-icon",{attrs:{type:"upload"}}),e._v(" "+e._s(e.record.options.placeholder)+"\n    ")],1):e._e(),"picture-card"===e.record.options.listType&&e.fileList.length<e.record.options.limit?i("div",{attrs:{disabled:e.record.options.disabled}},[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text"},[e._v(e._s(e.record.options.placeholder))])],1):e._e()],1),i("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImageUrl}})])],1)},o=[],r=(i("7f7f"),{props:["record","value"],data:function(){return{fileList:[],previewVisible:!1,previewImageUrl:""}},watch:{value:function(e){this.fileList=e}},computed:{optionsData:function(){try{return JSON.parse(this.record.options.data)}catch(e){return{}}}},methods:{handleSelectChange:function(){var e=this;setTimeout(function(){var t=e.fileList.map(function(e){if("undefined"!==typeof e.response){var t=e.response;return{name:e.name,status:e.status,uid:e.uid,url:t.data.url||""}}return{name:e.name,status:e.status,uid:e.uid,url:e.url||""}});e.$emit("change",t),e.$emit("input",t)},10)},handlePreview:function(e){this.previewImageUrl=e.url||e.thumbUrl,this.previewVisible=!0},handleCancel:function(){this.previewVisible=!1},remove:function(){this.handleSelectChange()},beforeUpload:function(e,t){t.length+this.fileList.length>this.record.options.limit&&(this.$message.warning("最大上传数量为".concat(this.record.options.limit)),t.splice(this.record.options.limit-this.fileList.length))},handleChange:function(e){if(this.fileList=e.fileList,"done"===e.file.status){var t=e.file.response;0===t.code?this.handleSelectChange():(this.fileList.pop(),this.$message.error("图片上传失败"))}else"error"===e.file.status&&this.$message.error("图片上传失败")}}}),n=r,a=(i("f2cd"),i("2877")),l=Object(a["a"])(n,s,o,!1,null,null,null),d=l.exports;t["default"]=d},f2cd:function(e,t,i){"use strict";var s=i("1c1f"),o=i.n(s);o.a}}]);